<?xml version="1.0" encoding="UTF-8" standalone="no"?><Entities build="b90" majorVersion="8" minorVersion="5" modelPersistenceProviderPackage="PostgresPersistenceProviderPackage" revision="1" schemaVersion="1051" universal=""><Things><Thing description="" documentationContent="" effectiveThingPackage="DataTableThing" enabled="true" homeMashup="DataTableEditor" identifier="" lastModifiedDate="2020-10-22T10:33:54.293-07:00" name="JobOrder" projectName="MobileHeroContest" published="false" tags="" thingTemplate="DataTable" valueStream=""><Owner name="Ki" type="User"/><avatar/><DesignTimePermissions><Create/><Read/><Update/><Delete/><Metadata/></DesignTimePermissions><RunTimePermissions/><VisibilityPermissions><Visibility/></VisibilityPermissions><ConfigurationTableDefinitions/><ConfigurationTables><ConfigurationTable description="Data Thing Configuration" isMultiRow="false" name="DataThingSettings" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="Persistence Provider Name" name="persistenceProvider" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><persistenceProvider><![CDATA[ThingworxPersistenceProvider]]></persistenceProvider></Row></Rows></ConfigurationTable><ConfigurationTable description="Data Shape Configuration" isMultiRow="false" name="Settings" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition aspect.friendlyName="Data Shape" baseType="DATASHAPENAME" description="Data shape" name="dataShape" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><accumulatedDataShape><json><![CDATA[{"fieldDefinitions":{"description":{"name":"description","aspects":{"isPrimaryKey":false},"description":"","baseType":"STRING","ordinal":0},"id":{"name":"id","aspects":{"isPrimaryKey":true},"description":"","baseType":"INTEGER","ordinal":1},"status":{"name":"status","aspects":{"isPrimaryKey":false},"description":"","baseType":"STRING","ordinal":2}}}]]></json></accumulatedDataShape><dataShape><![CDATA[JobOrder]]></dataShape></Row></Rows></ConfigurationTable><ConfigurationTable description="Index Settings" isMultiRow="true" name="Indexes" ordinal="1"><DataShape><FieldDefinitions><FieldDefinition aspect.friendlyName="Index Field Names" baseType="STRING" description="Index fields" name="fieldNames" ordinal="1"/><FieldDefinition aspect.friendlyName="Index Name" baseType="STRING" description="Index name" name="name" ordinal="0"/></FieldDefinitions></DataShape><Rows/></ConfigurationTable><ConfigurationTable description="Configurable options to tune Data Table performance" isMultiRow="false" name="PersistenceProviderCustomSettings" ordinal="2"><DataShape><FieldDefinitions><FieldDefinition aspect.friendlyName="Persistence Provider Custom Settings Table" baseType="INFOTABLE" description="Persistence Provider Custom Config Table" name="customConfigTable" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><customConfigTable><infoTable><DataShape><FieldDefinitions/></DataShape><Rows/></infoTable></customConfigTable></Row></Rows></ConfigurationTable></ConfigurationTables><ThingShape><PropertyDefinitions/><ServiceDefinitions><ServiceDefinition aspect.isAsync="false" category="" description="" isAllowOverride="false" isLocalOnly="false" isOpen="false" isPrivate="false" name="addJobOrder"><ResultType baseType="NOTHING" description="" name="result" ordinal="0"/><ParameterDefinitions><FieldDefinition baseType="STRING" description="" name="description" ordinal="2"/><FieldDefinition baseType="INTEGER" description="" name="id" ordinal="1"/><FieldDefinition baseType="STRING" description="" name="status" ordinal="3"/></ParameterDefinitions></ServiceDefinition><ServiceDefinition aspect.isAsync="false" category="" description="" isAllowOverride="false" isLocalOnly="false" isOpen="false" isPrivate="false" name="deleteJobOrderById"><ResultType baseType="NOTHING" description="" name="result" ordinal="0"/><ParameterDefinitions><FieldDefinition baseType="INTEGER" description="" name="id" ordinal="1"/></ParameterDefinitions></ServiceDefinition><ServiceDefinition aspect.isAsync="false" category="" description="" isAllowOverride="false" isLocalOnly="false" isOpen="false" isPrivate="false" name="getJobOrderById"><ResultType aspect.dataShape="JobOrder" baseType="INFOTABLE" description="" name="result" ordinal="0"/><ParameterDefinitions><FieldDefinition baseType="INTEGER" description="" name="Id" ordinal="1"/></ParameterDefinitions></ServiceDefinition><ServiceDefinition aspect.isAsync="false" category="" description="" isAllowOverride="false" isLocalOnly="false" isOpen="false" isPrivate="false" name="getJobOrders"><ResultType aspect.dataShape="JobOrder" baseType="INFOTABLE" description="" name="result" ordinal="0"/><ParameterDefinitions/></ServiceDefinition><ServiceDefinition aspect.isAsync="false" category="" description="Manually update Job Order Status " isAllowOverride="false" isLocalOnly="false" isOpen="false" isPrivate="false" name="updateJobOrderStatus"><ResultType aspect.dataShape="JobOrder" baseType="NOTHING" description="" name="result" ordinal="0"/><ParameterDefinitions><FieldDefinition baseType="INTEGER" description="" name="id" ordinal="1"/><FieldDefinition baseType="STRING" description="" name="newStatus" ordinal="2"/></ParameterDefinitions></ServiceDefinition><ServiceDefinition aspect.isAsync="false" category="" description="" isAllowOverride="false" isLocalOnly="false" isOpen="false" isPrivate="false" name="updateJobOrderStatusByLinks"><ResultType aspect.dataShape="JobOrderPackageLink" baseType="NOTHING" description="" name="result" ordinal="0"/><ParameterDefinitions/></ServiceDefinition></ServiceDefinitions><EventDefinitions/><ServiceMappings/><ServiceImplementations><ServiceImplementation description="" handlerName="Script" name="addJobOrder"><ConfigurationTables><ConfigurationTable description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[// Values: INFOTABLE dataShape: ""
var Values =  me.CreateValuesWithData({
	values: {
    id:id,
    description:description,
    status:status
    } /* JSON */
});
// id: STRING
var id =  me.AddDataTableEntry({
	values: Values /* INFOTABLE */,
});]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation><ServiceImplementation description="" handlerName="Script" name="deleteJobOrderById"><ConfigurationTables><ConfigurationTable description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[var query = 
{
    "filters": {
        "type": "EQ",
        "fieldName": "id",
        "value": id
    }
};
me.DeleteDataTableEntriesWithQuery({
	query: query /* QUERY */,
});]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation><ServiceImplementation description="" handlerName="Script" name="getJobOrderById"><ConfigurationTables><ConfigurationTable description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[var query = 
{
    "filters": {
        "type": "EQ",
        "fieldName": "id",
        "value": Id
    }
};

var result =  me.QueryDataTableEntries({
	query: query /* QUERY */,
});



]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation><ServiceImplementation description="" handlerName="Script" name="getJobOrders"><ConfigurationTables><ConfigurationTable description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[// result: INFOTABLE dataShape: ""
var result =  me.GetDataTableEntries({
});]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation><ServiceImplementation description="" handlerName="Script" name="updateJobOrderStatus"><ConfigurationTables><ConfigurationTable description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[var query = 
{
    "filters": {
        "type": "EQ",
        "fieldName": "id",
        "value": id
    }
};

var updateValues =  me.CreateValuesWithData({
	values:  {status: newStatus} /* JSON */
});
 me.UpdateDataTableEntriesWithQuery({
     	query: query /* QUERY */,
		updateValues: updateValues
 });

]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation><ServiceImplementation description="" handlerName="Script" name="updateJobOrderStatusByLinks"><ConfigurationTables><ConfigurationTable description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[JobOrderTable = me.GetDataTableEntries();
for(x= 0 ; x<JobOrderTable.getRowCount();x++){
		updateId = JobOrderTable.getRow(x).id;
    	JPLinks =  Things["JobOrderPackageLink"].getJobOrderPackageLinksByJOId({
		jobOrderId: updateId /* INTEGER */
		});
    	equals = 0;
 		for(y=0;y<JPLinks.getRowCount();y++){
            if(JPLinks.getRow(0).status==JPLinks.getRow(y).status){
            	equals=equals+1;
            }
        }
    
    	if(equals==JPLinks.getRowCount()&&JPLinks.getRowCount()>0){
			 me.updateJobOrderStatus({
			newStatus:JPLinks.getRow(0).status  /* STRING */,
			id: updateId /* INTEGER */
			});
        }
}
]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation></ServiceImplementations><Subscriptions/></ThingShape><PropertyBindings/><RemotePropertyBindings/><RemoteServiceBindings/><RemoteEventBindings/><AlertConfigurations/><ImplementedShapes/><ThingProperties/><ConfigurationChanges><ConfigurationChange changeAction="CREATE" changeReason="header : name : updated, projectName : updated&#10;configuration : dataShape : updated&#10;" timestamp="2020-10-20T12:02:04.082-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : getJobOrderById : service added&#10;" timestamp="2020-10-20T12:03:23.120-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : getJobOrders : service added&#10;" timestamp="2020-10-20T12:15:02.821-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatus : service added&#10;" timestamp="2020-10-20T12:17:43.090-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatus : service updated&#10;" timestamp="2020-10-20T12:22:29.104-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatus : service updated&#10;" timestamp="2020-10-20T12:28:42.563-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatus : service updated&#10;" timestamp="2020-10-20T12:29:36.617-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatus : service updated&#10;" timestamp="2020-10-20T12:31:43.770-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatus : output updated&#10;" timestamp="2020-10-20T12:33:13.824-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatus : service updated&#10;" timestamp="2020-10-20T12:34:27.595-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatus : service updated&#10;" timestamp="2020-10-20T12:37:34.968-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatus : service updated&#10;" timestamp="2020-10-20T12:38:03.871-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatus : service updated&#10;" timestamp="2020-10-20T12:43:22.961-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatus : output updated&#10;" timestamp="2020-10-20T12:44:09.078-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatus : description updated&#10;" timestamp="2020-10-21T09:58:57.840-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatusByLinks : service added&#10;" timestamp="2020-10-21T09:59:22.023-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatusByLinks : output updated&#10;" timestamp="2020-10-21T10:39:40.899-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatusByLinks : service updated&#10;" timestamp="2020-10-21T10:39:54.423-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatusByLinks : service updated&#10;" timestamp="2020-10-21T11:22:36.601-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatusByLinks : service updated&#10;" timestamp="2020-10-21T11:24:11.649-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatusByLinks : service updated&#10;" timestamp="2020-10-21T11:26:20.587-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatusByLinks : output updated&#10;" timestamp="2020-10-21T11:28:41.005-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatusByLinks : service updated&#10;" timestamp="2020-10-21T11:30:49.893-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatusByLinks : output updated&#10;" timestamp="2020-10-21T11:30:59.128-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatusByLinks : service updated&#10;" timestamp="2020-10-21T11:32:07.509-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatusByLinks : service updated&#10;" timestamp="2020-10-21T11:32:37.396-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatusByLinks : service updated&#10;" timestamp="2020-10-21T11:32:50.881-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatusByLinks : service updated&#10;" timestamp="2020-10-21T11:33:01.753-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatusByLinks : service updated&#10;" timestamp="2020-10-21T11:33:09.119-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatusByLinks : output updated&#10;" timestamp="2020-10-21T11:33:46.793-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatusByLinks : output updated&#10;" timestamp="2020-10-21T11:34:24.964-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatusByLinks : service updated&#10;" timestamp="2020-10-21T11:34:59.618-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatusByLinks : output updated&#10;" timestamp="2020-10-21T11:36:59.764-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatusByLinks : service updated&#10;" timestamp="2020-10-21T11:37:47.488-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : updateJobOrderStatusByLinks : service updated&#10;" timestamp="2020-10-21T11:38:33.765-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : addJobOrder : service added&#10;" timestamp="2020-10-22T10:03:49.784-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : deleteJobOrderById : service added&#10;" timestamp="2020-10-22T10:33:14.030-07:00" user="Ki"/><ConfigurationChange changeAction="MODIFY" changeReason="services : deleteJobOrderById : service updated&#10;" timestamp="2020-10-22T10:33:54.292-07:00" user="Ki"/></ConfigurationChanges></Thing></Things></Entities>